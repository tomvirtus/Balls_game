# Copilot Instructions for Balls Game

## Архитектура и компоненты
- Игра реализована как одностраничное веб-приложение на чистом JS (ES-модули), без фреймворков.
- Основные компоненты:
  - `index.html`: точка входа, содержит меню и canvas для игры.
  - `js/main.js`: инициализация, обработка старта игры.
  - `js/game.js`: основной игровой цикл, обработка событий, отрисовка, логика столкновений и побед/проигрыша.
  - `js/player.js`, `js/ball.js`, `js/particle.js`: классы игровых объектов.
  - `js/ui.js`: обновление HUD через DOM.
  - `js/audio.js`: управление аудио-эффектами.
  - `js/utils.js`: утилиты, тексты для мультиязычности.
  - `assets/`: хранение медиа-файлов (аудио).

## Важные паттерны и конвенции
- Все игровые объекты реализованы как ES6-классы с методами `draw`, `update`.
- Взаимодействие с DOM только для HUD и меню, остальная графика — через canvas.
- Мультиязычность реализована через объект `texts` в `js/utils.js`.
- Аудио-файлы подключаются как объекты `Audio` и управляются напрямую.
- Управление игроком — через события мыши (`mousemove`).
- Победа/проигрыш — через алерты и перезагрузку страницы.

## Воркфлоу разработки
- Нет сборки, тестов или специфических команд — изменения сразу видны при обновлении страницы.
- Для отладки используйте инструменты разработчика браузера.
- Для добавления новых игровых объектов — создайте новый класс в `js/`, реализуйте методы `draw`, `update`.
- Для расширения HUD — добавьте элементы в `index.html` и обновляйте их через `js/ui.js`.
- Для новых языков — добавьте ключи в объект `texts`.

## Интеграция и зависимости
- Внешних JS-библиотек нет, только стандартные браузерные API.
- Все файлы JS подключаются как ES-модули.
- Аудио-файлы должны лежать в `assets/` и быть доступны по относительным путям.

## Примеры паттернов
- Пример создания игрового объекта:
  ```js
  const ball = new Ball(x, y, r, color);
  ball.draw(ctx);
  ball.move(width, height);
  ```
- Пример обновления HUD:
  ```js
  updateHUD(ctx, player, score, wrong, bonus, texts, lang);
  ```

## Ключевые файлы
- `index.html`, `js/main.js`, `js/game.js`, `js/player.js`, `js/ball.js`, `js/ui.js`, `js/audio.js`, `js/utils.js`, `assets/`

---

_Обновите этот файл при изменении архитектуры или появлении новых паттернов!_